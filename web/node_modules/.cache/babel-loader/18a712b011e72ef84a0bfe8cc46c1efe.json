{"ast":null,"code":"import _defineProperty from\"/home/arielpellegrino/Documentos/BBBBBBBB/SevenBarbearia/C/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/arielpellegrino/Documentos/BBBBBBBB/SevenBarbearia/C/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{filterCliente,updateCliente,addCliente,resetCliente,allClientes,unlinkCliente}from'../../store/modules/cliente/actions';import util from'../../services/util';import{Drawer,Button,Notification,Message,Tag,Modal,Icon}from'rsuite';import'rsuite/dist/styles/rsuite-default.css';import Table from'../../components/Table';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Clientes=function Clientes(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.cliente;}),cliente=_useSelector.cliente,clientes=_useSelector.clientes,form=_useSelector.form,components=_useSelector.components,behavior=_useSelector.behavior;var setCliente=function setCliente(key,value){dispatch(updateCliente({cliente:_objectSpread(_objectSpread({},cliente),{},_defineProperty({},key,value))}));};var setComponents=function setComponents(component,state){dispatch(updateCliente({components:_objectSpread(_objectSpread({},components),{},_defineProperty({},component,state))}));};var _onRowClick=function onRowClick(cliente){dispatch(updateCliente({cliente:cliente,behavior:'update'}));setComponents('drawer',true);};var save=function save(){if(!util.allFields(cliente,['email','nome','telefone','dataNascimento','sexo'])){// DISPARAR O ALERTA\nNotification.error({placement:'topStart',title:'Calma lá!',description:'Antes de prosseguir, preencha todos os campos!'});return false;}dispatch(addCliente());};var remove=function remove(){// PERFORM REMOVE\ndispatch(unlinkCliente());};useEffect(function(){dispatch(allClientes());},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"col p-5 overflow-auto h-100\",children:[/*#__PURE__*/_jsx(Drawer,{show:components.drawer,size:\"sm\",onHide:function onHide(){return setComponents('drawer',false);},children:/*#__PURE__*/_jsxs(Drawer.Body,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Criar novo cliente\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-3\",children:[behavior!=='create'&&/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 my-3\",children:[/*#__PURE__*/_jsx(Message,{showIcon:true,type:\"info\",title:\"Pe\\xE7a ao cliente para baixar o app!\",description:\"Se voc\\xEA precisa editar alguma informa\\xE7\\xE3o do cliente, pe\\xE7a para que ele baixa o aplicativo e fa\\xE7a as altera\\xE7\\xF5es.\"}),/*#__PURE__*/_jsx(Button,{block:true,color:\"primary\",className:\"mt-1\",children:\"Baixar o Aplicativo\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-12\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"\",children:\"E-mail\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",class:\"form-control\",placeholder:\"E-mail do cliente\",disabled:behavior!=='create',onChange:function onChange(e){setCliente('email',e.target.value);console.log(cliente);},value:cliente.email}),behavior==='create'&&/*#__PURE__*/_jsx(\"div\",{class:\"input-group-append\",children:/*#__PURE__*/_jsx(Button,{appearance:\"primary\",loading:form.filtering,disabled:form.filtering,onClick:function onClick(){dispatch(filterCliente({filters:{email:cliente.email,status:'A'}}));},children:\"Pesquisar\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-6\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"\",children:\"Nome\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Nome do Cliente\",disabled:form.disabled,value:cliente.nome,onChange:function onChange(e){return setCliente('nome',e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-6\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"\",children:\"Telefone / Whatsapp\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Telefone / Whatsapp do Cliente\",disabled:form.disabled,value:cliente.telefone,onChange:function onChange(e){return setCliente('telefone',e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-6\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"\",children:\"Data de Nascimento\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",disabled:form.disabled,value:cliente.dataNascimento,onChange:function onChange(e){return setCliente('dataNascimento',e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-6\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Sexo\"}),/*#__PURE__*/_jsxs(\"select\",{disabled:form.disabled,className:\"form-control\",value:cliente.sexo,onChange:function onChange(e){return setCliente('sexo',e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"M\",children:\"Masculino\"}),/*#__PURE__*/_jsx(\"option\",{value:\"F\",children:\"Feminino\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-6\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Tipo de documento\"}),/*#__PURE__*/_jsxs(\"select\",{disabled:form.disabled,className:\"form-control\",value:cliente.documento.tipo,onChange:function onChange(e){return setCliente('documento',_objectSpread(_objectSpread({},cliente.documento),{},{tipo:e.target.value}));},children:[/*#__PURE__*/_jsx(\"option\",{value:\"cpf\",children:\"CPF\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cnpj\",children:\"CNPJ\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-6\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"\",children:\"N\\xFAmero do documento\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",disabled:form.disabled,value:cliente.documento.numero,onChange:function onChange(e){return setCliente('documento',_objectSpread(_objectSpread({},cliente.documento),{},{numero:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-3\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"\",children:\"CEP\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Digite o CEP\",disabled:form.disabled,value:cliente.endereco.cep,onChange:function onChange(e){return setCliente('endereco',_objectSpread(_objectSpread({},cliente.endereco),{},{cep:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-6\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"\",children:\"Rua / Logradouro\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Rua / Logradouro\",disabled:form.disabled,value:cliente.endereco.logradouro,onChange:function onChange(e){return setCliente('endereco',_objectSpread(_objectSpread({},cliente.endereco),{},{logradouro:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-3\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"\",children:\"N\\xFAmero\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"N\\xFAmero\",disabled:form.disabled,value:cliente.endereco.numero,onChange:function onChange(e){return setCliente('endereco',_objectSpread(_objectSpread({},cliente.endereco),{},{numero:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-3\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"\",children:\"UF\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"UF\",disabled:form.disabled,value:cliente.endereco.uf,onChange:function onChange(e){return setCliente('endereco',_objectSpread(_objectSpread({},cliente.endereco),{},{uf:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-9\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"\",children:\"Cidade\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Cidade\",disabled:form.disabled,value:cliente.endereco.cidade,onChange:function onChange(e){return setCliente('endereco',_objectSpread(_objectSpread({},cliente.endereco),{},{cidade:e.target.value}));}})]})]}),/*#__PURE__*/_jsxs(Button//disabled={ableToSave(cliente)}\n,{block:true,className:\"btn-lg mt-3\",color:behavior==='create'?'green':'red',size:\"lg\",loading:form.saving,onClick:function onClick(){if(behavior==='create'){save();}else{setComponents('confirmDelete',true);}},children:[behavior==='create'?'Salvar':'Remover',\" cliente\"]})]})}),/*#__PURE__*/_jsxs(Modal,{show:components.confirmDelete,onHide:function onHide(){return setComponents('confirmDelete',false);},size:\"xs\",children:[/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsx(Icon,{icon:\"remind\",style:{color:'#ffb300',fontSize:24}}),'  ',\" Tem certeza que deseja excluir? Essa a\\xE7\\xE3o ser\\xE1 irrevers\\xEDvel!\"]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{loading:form.saving,onClick:function onClick(){return remove();},color:\"red\",children:\"Sim, tenho certeza!\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return setComponents('confirmDelete',false);},appearance:\"subtle\",children:\"Cancelar\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4 mt-0\",children:\"Clientes\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){dispatch(resetCliente());dispatch(updateCliente({behavior:'create'}));setComponents('drawer',true);},className:\"btn btn-primary btn-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mdi mdi-plus\"}),\" Novo Cliente\"]})})]}),/*#__PURE__*/_jsx(Table,{rows:clientes,loading:form.filtering,config:[{label:'Nome',key:'nome',sortable:true,fixed:true,width:200},{label:'E-mail',key:'email',sortable:true,width:200},{label:'Telefone / Whatsapp',key:'telefone',sortable:true,width:200},{label:'Sexo',key:'sexo',content:function content(sexo){return/*#__PURE__*/_jsx(Tag,{color:sexo==='M'?'blue':'violet',children:sexo==='M'?'Masculino':'Feminino'});},sortable:true},{label:'Data de cadastro',key:'dataCadastro',sortable:true,width:200}],actions:function actions(item){return/*#__PURE__*/_jsx(Button,{color:\"blue\",size:\"xs\"/*onClick={() => {\n                  console.log(item);\n                }}*/,children:\"Ver informa\\xE7\\xF5es\"});},onRowClick:function onRowClick(c){return _onRowClick(c);}})]})})]});};export default Clientes;","map":{"version":3,"sources":["/home/arielpellegrino/Documentos/BBBBBBBB/SevenBarbearia/C/web/src/pages/Clientes/index.js"],"names":["useEffect","useDispatch","useSelector","filterCliente","updateCliente","addCliente","resetCliente","allClientes","unlinkCliente","util","Drawer","Button","Notification","Message","Tag","Modal","Icon","Table","Clientes","dispatch","state","cliente","clientes","form","components","behavior","setCliente","key","value","setComponents","component","onRowClick","save","allFields","error","placement","title","description","remove","drawer","e","target","console","log","email","filtering","filters","status","disabled","nome","telefone","dataNascimento","sexo","documento","tipo","numero","endereco","cep","logradouro","uf","cidade","saving","confirmDelete","color","fontSize","label","sortable","fixed","width","content","item","c"],"mappings":"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","sourcesContent":["import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  filterCliente,\n  updateCliente,\n  addCliente,\n  resetCliente,\n  allClientes,\n  unlinkCliente,\n} from '../../store/modules/cliente/actions';\nimport util from '../../services/util';\n\nimport {\n  Drawer,\n  Button,\n  Notification,\n  Message,\n  Tag,\n  Modal,\n  Icon,\n} from 'rsuite';\nimport 'rsuite/dist/styles/rsuite-default.css';\n\nimport Table from '../../components/Table';\n\nconst Clientes = () => {\n  const dispatch = useDispatch();\n  const { cliente, clientes, form, components, behavior } = useSelector(\n    (state) => state.cliente\n  );\n\n  const setCliente = (key, value) => {\n    dispatch(\n      updateCliente({\n        cliente: { ...cliente, [key]: value },\n      })\n    );\n  };\n\n  const setComponents = (component, state) => {\n    dispatch(\n      updateCliente({\n        components: { ...components, [component]: state },\n      })\n    );\n  };\n\n  const onRowClick = (cliente) => {\n    dispatch(\n      updateCliente({\n        cliente,\n        behavior: 'update',\n      })\n    );\n    setComponents('drawer', true);\n  };\n\n  const save = () => {\n    if (\n      !util.allFields(cliente, [\n        'email',\n        'nome',\n        'telefone',\n        'dataNascimento',\n        'sexo',\n      ])\n    ) {\n      // DISPARAR O ALERTA\n      Notification.error({\n        placement: 'topStart',\n        title: 'Calma lá!',\n        description: 'Antes de prosseguir, preencha todos os campos!',\n      });\n      return false;\n    }\n\n    dispatch(addCliente());\n  };\n\n  const remove = () => {\n    // PERFORM REMOVE\n    dispatch(unlinkCliente());\n  };\n\n  useEffect(() => {\n    dispatch(allClientes());\n  }, []);\n\n  return (\n    <div className=\"col p-5 overflow-auto h-100\">\n      <Drawer\n        show={components.drawer}\n        size=\"sm\"\n        onHide={() => setComponents('drawer', false)}\n      >\n        <Drawer.Body>\n          <h3>Criar novo cliente</h3>\n          <div className=\"row mt-3\">\n            {behavior !== 'create' && (\n              <div className=\"col-12 my-3\">\n                <Message\n                  showIcon\n                  type=\"info\"\n                  title=\"Peça ao cliente para baixar o app!\"\n                  description=\"Se você precisa editar alguma informação do cliente, peça para que ele baixa o aplicativo e faça as alterações.\"\n                />\n                <Button block color=\"primary\" className=\"mt-1\">\n                  Baixar o Aplicativo\n                </Button>\n              </div>\n            )}\n            <div className=\"form-group col-12\">\n              <b className=\"\">E-mail</b>\n              <div class=\"input-group mb-3\">\n                <input\n                  type=\"email\"\n                  class=\"form-control\"\n                  placeholder=\"E-mail do cliente\"\n                  disabled={behavior !== 'create'}\n                  onChange={(e) => {\n                    setCliente('email', e.target.value);\n                    console.log(cliente);\n                  }}\n                  value={cliente.email}\n                />\n                {behavior === 'create' && (\n                  <div class=\"input-group-append\">\n                    <Button\n                      appearance=\"primary\"\n                      loading={form.filtering}\n                      disabled={form.filtering}\n                      onClick={() => {\n                        dispatch(\n                          filterCliente({\n                            filters: { email: cliente.email, status: 'A' },\n                          })\n                        );\n                      }}\n                    >\n                      Pesquisar\n                    </Button>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"form-group col-6\">\n              <b className=\"\">Nome</b>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Nome do Cliente\"\n                disabled={form.disabled}\n                value={cliente.nome}\n                onChange={(e) => setCliente('nome', e.target.value)}\n              />\n            </div>\n            <div className=\"form-group col-6\">\n              <b className=\"\">Telefone / Whatsapp</b>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Telefone / Whatsapp do Cliente\"\n                disabled={form.disabled}\n                value={cliente.telefone}\n                onChange={(e) => setCliente('telefone', e.target.value)}\n              />\n            </div>\n\n            <div className=\"form-group col-6\">\n              <b className=\"\">Data de Nascimento</b>\n              <input\n                type=\"date\"\n                className=\"form-control\"\n                disabled={form.disabled}\n                value={cliente.dataNascimento}\n                onChange={(e) => setCliente('dataNascimento', e.target.value)}\n              />\n            </div>\n            <div className=\"form-group col-6\">\n              <b>Sexo</b>\n              <select\n                disabled={form.disabled}\n                className=\"form-control\"\n                value={cliente.sexo}\n                onChange={(e) => setCliente('sexo', e.target.value)}\n              >\n                <option value=\"M\">Masculino</option>\n                <option value=\"F\">Feminino</option>\n              </select>\n            </div>\n\n            <div className=\"form-group col-6\">\n              <b>Tipo de documento</b>\n              <select\n                disabled={form.disabled}\n                className=\"form-control\"\n                value={cliente.documento.tipo}\n                onChange={(e) =>\n                  setCliente('documento', {\n                    ...cliente.documento,\n                    tipo: e.target.value,\n                  })\n                }\n              >\n                <option value=\"cpf\">CPF</option>\n                <option value=\"cnpj\">CNPJ</option>\n              </select>\n            </div>\n            <div className=\"form-group col-6\">\n              <b className=\"\">Número do documento</b>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                disabled={form.disabled}\n                value={cliente.documento.numero}\n                onChange={(e) =>\n                  setCliente('documento', {\n                    ...cliente.documento,\n                    numero: e.target.value,\n                  })\n                }\n              />\n            </div>\n\n            <div className=\"form-group col-3\">\n              <b className=\"\">CEP</b>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Digite o CEP\"\n                disabled={form.disabled}\n                value={cliente.endereco.cep}\n                onChange={(e) =>\n                  setCliente('endereco', {\n                    ...cliente.endereco,\n                    cep: e.target.value,\n                  })\n                }\n              />\n            </div>\n            <div className=\"form-group col-6\">\n              <b className=\"\">Rua / Logradouro</b>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Rua / Logradouro\"\n                disabled={form.disabled}\n                value={cliente.endereco.logradouro}\n                onChange={(e) =>\n                  setCliente('endereco', {\n                    ...cliente.endereco,\n                    logradouro: e.target.value,\n                  })\n                }\n              />\n            </div>\n            <div className=\"form-group col-3\">\n              <b className=\"\">Número</b>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Número\"\n                disabled={form.disabled}\n                value={cliente.endereco.numero}\n                onChange={(e) =>\n                  setCliente('endereco', {\n                    ...cliente.endereco,\n                    numero: e.target.value,\n                  })\n                }\n              />\n            </div>\n            <div className=\"form-group col-3\">\n              <b className=\"\">UF</b>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"UF\"\n                disabled={form.disabled}\n                value={cliente.endereco.uf}\n                onChange={(e) =>\n                  setCliente('endereco', {\n                    ...cliente.endereco,\n                    uf: e.target.value,\n                  })\n                }\n              />\n            </div>\n            <div className=\"form-group col-9\">\n              <b className=\"\">Cidade</b>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Cidade\"\n                disabled={form.disabled}\n                value={cliente.endereco.cidade}\n                onChange={(e) =>\n                  setCliente('endereco', {\n                    ...cliente.endereco,\n                    cidade: e.target.value,\n                  })\n                }\n              />\n            </div>\n          </div>\n          <Button\n            //disabled={ableToSave(cliente)}\n            block\n            className=\"btn-lg mt-3\"\n            color={behavior === 'create' ? 'green' : 'red'}\n            size=\"lg\"\n            loading={form.saving}\n            onClick={() => {\n              if (behavior === 'create') {\n                save();\n              } else {\n                setComponents('confirmDelete', true);\n              }\n            }}\n          >\n            {behavior === 'create' ? 'Salvar' : 'Remover'} cliente\n          </Button>\n        </Drawer.Body>\n      </Drawer>\n\n      <Modal\n        show={components.confirmDelete}\n        onHide={() => setComponents('confirmDelete', false)}\n        size=\"xs\"\n      >\n        <Modal.Body>\n          <Icon\n            icon=\"remind\"\n            style={{\n              color: '#ffb300',\n              fontSize: 24,\n            }}\n          />\n          {'  '} Tem certeza que deseja excluir? Essa ação será irreversível!\n        </Modal.Body>\n        <Modal.Footer>\n          <Button loading={form.saving} onClick={() => remove()} color=\"red\">\n            Sim, tenho certeza!\n          </Button>\n          <Button\n            onClick={() => setComponents('confirmDelete', false)}\n            appearance=\"subtle\"\n          >\n            Cancelar\n          </Button>\n        </Modal.Footer>\n      </Modal>\n\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <div className=\"w-100 d-flex justify-content-between\">\n            <h2 className=\"mb-4 mt-0\">Clientes</h2>\n            <div>\n              <button\n                onClick={() => {\n                  dispatch(resetCliente());\n                  dispatch(\n                    updateCliente({\n                      behavior: 'create',\n                    })\n                  );\n                  setComponents('drawer', true);\n                }}\n                className=\"btn btn-primary btn-lg\"\n              >\n                <span className=\"mdi mdi-plus\"></span> Novo Cliente\n              </button>\n            </div>\n          </div>\n          <Table\n            rows={clientes}\n            loading={form.filtering}\n            config={[\n              {\n                label: 'Nome',\n                key: 'nome',\n                sortable: true,\n                fixed: true,\n                width: 200,\n              },\n              {\n                label: 'E-mail',\n                key: 'email',\n                sortable: true,\n                width: 200,\n              },\n              {\n                label: 'Telefone / Whatsapp',\n                key: 'telefone',\n                sortable: true,\n                width: 200,\n              },\n              {\n                label: 'Sexo',\n                key: 'sexo',\n                content: (sexo) => (\n                  <Tag color={sexo === 'M' ? 'blue' : 'violet'}>\n                    {sexo === 'M' ? 'Masculino' : 'Feminino'}\n                  </Tag>\n                ),\n                sortable: true,\n              },\n              {\n                label: 'Data de cadastro',\n                key: 'dataCadastro',\n                sortable: true,\n                width: 200,\n              },\n            ]}\n            actions={(item) => (\n              <Button\n                color=\"blue\"\n                size=\"xs\"\n                /*onClick={() => {\n                  console.log(item);\n                }}*/\n              >\n                Ver informações\n              </Button>\n            )}\n            onRowClick={(c) => onRowClick(c)}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Clientes;\n"]},"metadata":{},"sourceType":"module"}