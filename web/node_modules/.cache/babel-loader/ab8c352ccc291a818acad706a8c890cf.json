{"ast":null,"code":"import _regeneratorRuntime from\"/home/arielpellegrino/Documentos/BBBBBBBB/SevenBarbearia/C/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/arielpellegrino/Documentos/BBBBBBBB/SevenBarbearia/C/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(addHorario),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(allHorarios),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(saveHorario),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(removeHorario),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(allServicos),_marked6=/*#__PURE__*/_regeneratorRuntime.mark(filterColaboradores);import{takeLatest,all,call,put,select}from'redux-saga/effects';import{updateHorario,resetHorario,allHorarios as allHorariosAction}from'./actions';import types from'./types';import api from'../../../services/api';import{notification}from'../../../services/rsuite';export function addHorario(){var _yield$select,horario,form,components,_yield$call,res;return _regeneratorRuntime.wrap(function addHorario$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return select(function(state){return state.horario;});case 3:_yield$select=_context.sent;horario=_yield$select.horario;form=_yield$select.form;components=_yield$select.components;_context.next=9;return put(updateHorario({form:_objectSpread(_objectSpread({},form),{},{saving:true})}));case 9:_context.next=11;return call(api.post,'/horario',_objectSpread(_objectSpread({},horario),{},{salaoId:'609310a1002ab333d1ae1716'}));case 11:_yield$call=_context.sent;res=_yield$call.data;_context.next=15;return put(updateHorario({form:_objectSpread(_objectSpread({},form),{},{saving:false})}));case 15:if(!res.error){_context.next=18;break;}// ALERT DO RSUITE\nnotification('error',{placement:'topStart',title:'Ops...',description:res.message});return _context.abrupt(\"return\",false);case 18:_context.next=20;return put(allHorariosAction());case 20:_context.next=22;return put(updateHorario({components:_objectSpread(_objectSpread({},components),{},{drawer:false})}));case 22:_context.next=24;return put(resetHorario());case 24:notification('success',{placement:'topStart',title:'Feitoooo!!',description:'Horário salvo com sucesso!'});_context.next=30;break;case 27:_context.prev=27;_context.t0=_context[\"catch\"](0);notification('error',{placement:'topStart',title:'Ops...',description:_context.t0.message});case 30:case\"end\":return _context.stop();}}},_marked,null,[[0,27]]);}export function allHorarios(){var _yield$select2,form,_yield$call2,res;return _regeneratorRuntime.wrap(function allHorarios$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return select(function(state){return state.horario;});case 2:_yield$select2=_context2.sent;form=_yield$select2.form;_context2.prev=4;_context2.next=7;return put(updateHorario({form:_objectSpread(_objectSpread({},form),{},{filtering:true})}));case 7:_context2.next=9;return call(api.get,\"/horario/salao/609310a1002ab333d1ae1716\");case 9:_yield$call2=_context2.sent;res=_yield$call2.data;_context2.next=13;return put(updateHorario({form:_objectSpread(_objectSpread({},form),{},{filtering:false})}));case 13:if(!res.error){_context2.next=16;break;}// ALERT DO RSUITE\nnotification('error',{placement:'topStart',title:'Ops...',description:res.message});return _context2.abrupt(\"return\",false);case 16:_context2.next=18;return put(updateHorario({horarios:res.horarios}));case 18:_context2.next=25;break;case 20:_context2.prev=20;_context2.t0=_context2[\"catch\"](4);_context2.next=24;return put(updateHorario({form:_objectSpread(_objectSpread({},form),{},{filtering:false})}));case 24:notification('error',{placement:'topStart',title:'Ops...',description:_context2.t0.message});case 25:case\"end\":return _context2.stop();}}},_marked2,null,[[4,20]]);}export function saveHorario(){var _yield$select3,horario,form,components,_yield$call3,res;return _regeneratorRuntime.wrap(function saveHorario$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return select(function(state){return state.horario;});case 2:_yield$select3=_context3.sent;horario=_yield$select3.horario;form=_yield$select3.form;components=_yield$select3.components;_context3.prev=6;_context3.next=9;return put(updateHorario({form:_objectSpread(_objectSpread({},form),{},{saving:true})}));case 9:_context3.next=11;return call(api.put,\"/horario/\".concat(horario._id),horario);case 11:_yield$call3=_context3.sent;res=_yield$call3.data;_context3.next=15;return put(updateHorario({form:_objectSpread(_objectSpread({},form),{},{saving:false})}));case 15:if(!res.error){_context3.next=18;break;}// ALERT DO RSUITE\nnotification('error',{placement:'topStart',title:'Ops...',description:res.message});return _context3.abrupt(\"return\",false);case 18:_context3.next=20;return put(allHorariosAction());case 20:_context3.next=22;return put(updateHorario({components:_objectSpread(_objectSpread({},components),{},{drawer:false})}));case 22:_context3.next=24;return put(resetHorario());case 24:notification('success',{placement:'topStart',title:'Feitoooo!!',description:'Serviço salvo com sucesso!'});_context3.next=32;break;case 27:_context3.prev=27;_context3.t0=_context3[\"catch\"](6);_context3.next=31;return put(updateHorario({form:_objectSpread(_objectSpread({},form),{},{saving:false})}));case 31:notification('error',{placement:'topStart',title:'Ops...',description:_context3.t0.message});case 32:case\"end\":return _context3.stop();}}},_marked3,null,[[6,27]]);}export function removeHorario(){var _yield$select4,horario,form,components,_yield$call4,res;return _regeneratorRuntime.wrap(function removeHorario$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return select(function(state){return state.horario;});case 2:_yield$select4=_context4.sent;horario=_yield$select4.horario;form=_yield$select4.form;components=_yield$select4.components;_context4.prev=6;_context4.next=9;return put(updateHorario({form:_objectSpread(_objectSpread({},form),{},{saving:true})}));case 9:_context4.next=11;return call(api.delete,\"/horario/\".concat(horario._id));case 11:_yield$call4=_context4.sent;res=_yield$call4.data;_context4.next=15;return put(updateHorario({form:_objectSpread(_objectSpread({},form),{},{saving:false})}));case 15:if(!res.error){_context4.next=18;break;}// ALERT DO RSUITE\nnotification('error',{placement:'topStart',title:'Ops...',description:res.message});return _context4.abrupt(\"return\",false);case 18:_context4.next=20;return put(allHorariosAction());case 20:_context4.next=22;return put(updateHorario({components:_objectSpread(_objectSpread({},components),{},{drawer:false,confirmDelete:false})}));case 22:_context4.next=29;break;case 24:_context4.prev=24;_context4.t0=_context4[\"catch\"](6);_context4.next=28;return put(updateHorario({form:_objectSpread(_objectSpread({},form),{},{saving:false})}));case 28:notification('error',{placement:'topStart',title:'Ops...',description:_context4.t0.message});case 29:case\"end\":return _context4.stop();}}},_marked4,null,[[6,24]]);}export function allServicos(){var _yield$select5,form,_yield$call5,res;return _regeneratorRuntime.wrap(function allServicos$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return select(function(state){return state.horario;});case 2:_yield$select5=_context5.sent;form=_yield$select5.form;_context5.prev=4;_context5.next=7;return put(updateHorario({form:_objectSpread(_objectSpread({},form),{},{filtering:true})}));case 7:_context5.next=9;return call(api.get,\"/salao/servicos/609310a1002ab333d1ae1716\");case 9:_yield$call5=_context5.sent;res=_yield$call5.data;_context5.next=13;return put(updateHorario({form:_objectSpread(_objectSpread({},form),{},{filtering:false})}));case 13:if(!res.error){_context5.next=16;break;}// ALERT DO RSUITE\nnotification('error',{placement:'topStart',title:'Ops...',description:res.message});return _context5.abrupt(\"return\",false);case 16:_context5.next=18;return put(updateHorario({servicos:res.servicos}));case 18:_context5.next=25;break;case 20:_context5.prev=20;_context5.t0=_context5[\"catch\"](4);_context5.next=24;return put(updateHorario({form:_objectSpread(_objectSpread({},form),{},{filtering:false})}));case 24:notification('error',{placement:'topStart',title:'Ops...',description:_context5.t0.message});case 25:case\"end\":return _context5.stop();}}},_marked5,null,[[4,20]]);}export function filterColaboradores(){var _yield$select6,form,horario,_yield$call6,res;return _regeneratorRuntime.wrap(function filterColaboradores$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return select(function(state){return state.horario;});case 2:_yield$select6=_context6.sent;form=_yield$select6.form;horario=_yield$select6.horario;_context6.prev=5;_context6.next=8;return put(updateHorario({form:_objectSpread(_objectSpread({},form),{},{filtering:true})}));case 8:_context6.next=10;return call(api.post,\"/horario/colaboradores/\",{servicos:horario.especialidades});case 10:_yield$call6=_context6.sent;res=_yield$call6.data;_context6.next=14;return put(updateHorario({form:_objectSpread(_objectSpread({},form),{},{filtering:false})}));case 14:if(!res.error){_context6.next=17;break;}// ALERT DO RSUITE\nnotification('error',{placement:'topStart',title:'Ops...',description:res.message});return _context6.abrupt(\"return\",false);case 17:_context6.next=19;return put(updateHorario({colaboradores:res.colaboradores}));case 19:_context6.next=26;break;case 21:_context6.prev=21;_context6.t0=_context6[\"catch\"](5);_context6.next=25;return put(updateHorario({form:_objectSpread(_objectSpread({},form),{},{filtering:false})}));case 25:notification('error',{placement:'topStart',title:'Ops...',description:_context6.t0.message});case 26:case\"end\":return _context6.stop();}}},_marked6,null,[[5,21]]);}export default all([takeLatest(types.ADD_HORARIO,addHorario),takeLatest(types.ALL_HORARIOS,allHorarios),takeLatest(types.REMOVE_HORARIO,removeHorario),takeLatest(types.SAVE_HORARIO,saveHorario),takeLatest(types.ALL_SERVICOS,allServicos),takeLatest(types.FILTER_COLABORADORES,filterColaboradores)]);","map":{"version":3,"sources":["/home/arielpellegrino/Documentos/BBBBBBBB/SevenBarbearia/C/web/src/store/modules/horario/sagas.js"],"names":["addHorario","allHorarios","saveHorario","removeHorario","allServicos","filterColaboradores","takeLatest","all","call","put","select","updateHorario","resetHorario","allHorariosAction","types","api","notification","state","horario","form","components","saving","post","salaoId","res","data","error","placement","title","description","message","drawer","filtering","get","horarios","_id","delete","confirmDelete","servicos","especialidades","colaboradores","ADD_HORARIO","ALL_HORARIOS","REMOVE_HORARIO","SAVE_HORARIO","ALL_SERVICOS","FILTER_COLABORADORES"],"mappings":"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","sourcesContent":["import { takeLatest, all, call, put, select } from 'redux-saga/effects';\nimport {\n  updateHorario,\n  resetHorario,\n  allHorarios as allHorariosAction,\n} from './actions';\nimport types from './types';\nimport api from '../../../services/api';\nimport { notification } from '../../../services/rsuite';\n\nexport function* addHorario() {\n  try {\n    const { horario, form, components } = yield select(\n      (state) => state.horario\n    );\n    yield put(updateHorario({ form: { ...form, saving: true } }));\n\n    const { data: res } = yield call(api.post, '/horario', {\n      ...horario,\n      salaoId: '609310a1002ab333d1ae1716',\n    });\n    yield put(updateHorario({ form: { ...form, saving: false } }));\n\n    if (res.error) {\n      // ALERT DO RSUITE\n      notification('error', {\n        placement: 'topStart',\n        title: 'Ops...',\n        description: res.message,\n      });\n      return false;\n    }\n\n    yield put(allHorariosAction());\n    yield put(updateHorario({ components: { ...components, drawer: false } }));\n    yield put(resetHorario());\n\n    notification('success', {\n      placement: 'topStart',\n      title: 'Feitoooo!!',\n      description: 'Horário salvo com sucesso!',\n    });\n  } catch (err) {\n    notification('error', {\n      placement: 'topStart',\n      title: 'Ops...',\n      description: err.message,\n    });\n  }\n}\n\nexport function* allHorarios() {\n  const { form } = yield select((state) => state.horario);\n\n  try {\n    yield put(updateHorario({ form: { ...form, filtering: true } }));\n\n    const { data: res } = yield call(\n      api.get,\n      `/horario/salao/609310a1002ab333d1ae1716`\n    );\n    yield put(updateHorario({ form: { ...form, filtering: false } }));\n\n    if (res.error) {\n      // ALERT DO RSUITE\n      notification('error', {\n        placement: 'topStart',\n        title: 'Ops...',\n        description: res.message,\n      });\n      return false;\n    }\n\n    yield put(updateHorario({ horarios: res.horarios }));\n  } catch (err) {\n    // COLOCAR AQUI O ALERT DO RSUITE\n    yield put(updateHorario({ form: { ...form, filtering: false } }));\n    notification('error', {\n      placement: 'topStart',\n      title: 'Ops...',\n      description: err.message,\n    });\n  }\n}\n\nexport function* saveHorario() {\n  const { horario, form, components } = yield select((state) => state.horario);\n\n  try {\n    yield put(updateHorario({ form: { ...form, saving: true } }));\n\n    const { data: res } = yield call(\n      api.put,\n      `/horario/${horario._id}`,\n      horario\n    );\n    yield put(updateHorario({ form: { ...form, saving: false } }));\n\n    if (res.error) {\n      // ALERT DO RSUITE\n      notification('error', {\n        placement: 'topStart',\n        title: 'Ops...',\n        description: res.message,\n      });\n      return false;\n    }\n\n    yield put(allHorariosAction());\n    yield put(updateHorario({ components: { ...components, drawer: false } }));\n    yield put(resetHorario());\n\n    notification('success', {\n      placement: 'topStart',\n      title: 'Feitoooo!!',\n      description: 'Serviço salvo com sucesso!',\n    });\n  } catch (err) {\n    yield put(updateHorario({ form: { ...form, saving: false } }));\n    notification('error', {\n      placement: 'topStart',\n      title: 'Ops...',\n      description: err.message,\n    });\n  }\n}\n\nexport function* removeHorario() {\n  const { horario, form, components } = yield select((state) => state.horario);\n\n  try {\n    yield put(updateHorario({ form: { ...form, saving: true } }));\n\n    const { data: res } = yield call(api.delete, `/horario/${horario._id}`);\n    yield put(updateHorario({ form: { ...form, saving: false } }));\n\n    if (res.error) {\n      // ALERT DO RSUITE\n      notification('error', {\n        placement: 'topStart',\n        title: 'Ops...',\n        description: res.message,\n      });\n      return false;\n    }\n\n    yield put(allHorariosAction());\n    yield put(\n      updateHorario({\n        components: { ...components, drawer: false, confirmDelete: false },\n      })\n    );\n  } catch (err) {\n    // COLOCAR AQUI O ALERT DO RSUITE\n    yield put(updateHorario({ form: { ...form, saving: false } }));\n    notification('error', {\n      placement: 'topStart',\n      title: 'Ops...',\n      description: err.message,\n    });\n  }\n}\n\nexport function* allServicos() {\n  const { form } = yield select((state) => state.horario);\n\n  try {\n    yield put(updateHorario({ form: { ...form, filtering: true } }));\n\n    const { data: res } = yield call(\n      api.get,\n      `/salao/servicos/609310a1002ab333d1ae1716`\n    );\n    yield put(updateHorario({ form: { ...form, filtering: false } }));\n\n    if (res.error) {\n      // ALERT DO RSUITE\n      notification('error', {\n        placement: 'topStart',\n        title: 'Ops...',\n        description: res.message,\n      });\n      return false;\n    }\n\n    yield put(updateHorario({ servicos: res.servicos }));\n  } catch (err) {\n    // COLOCAR AQUI O ALERT DO RSUITE\n    yield put(updateHorario({ form: { ...form, filtering: false } }));\n    notification('error', {\n      placement: 'topStart',\n      title: 'Ops...',\n      description: err.message,\n    });\n  }\n}\n\nexport function* filterColaboradores() {\n  const { form, horario } = yield select((state) => state.horario);\n\n  try {\n    yield put(updateHorario({ form: { ...form, filtering: true } }));\n\n    const { data: res } = yield call(api.post, `/horario/colaboradores/`, {\n      servicos: horario.especialidades,\n    });\n    yield put(updateHorario({ form: { ...form, filtering: false } }));\n\n    if (res.error) {\n      // ALERT DO RSUITE\n      notification('error', {\n        placement: 'topStart',\n        title: 'Ops...',\n        description: res.message,\n      });\n      return false;\n    }\n\n    yield put(updateHorario({ colaboradores: res.colaboradores }));\n  } catch (err) {\n    // COLOCAR AQUI O ALERT DO RSUITE\n    yield put(updateHorario({ form: { ...form, filtering: false } }));\n    notification('error', {\n      placement: 'topStart',\n      title: 'Ops...',\n      description: err.message,\n    });\n  }\n}\n\nexport default all([\n  takeLatest(types.ADD_HORARIO, addHorario),\n  takeLatest(types.ALL_HORARIOS, allHorarios),\n  takeLatest(types.REMOVE_HORARIO, removeHorario),\n  takeLatest(types.SAVE_HORARIO, saveHorario),\n  takeLatest(types.ALL_SERVICOS, allServicos),\n  takeLatest(types.FILTER_COLABORADORES, filterColaboradores),\n]);\n"]},"metadata":{},"sourceType":"module"}