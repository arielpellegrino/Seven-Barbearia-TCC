{"ast":null,"code":"import{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{filterAgendamentos}from'../../store/modules/agendamento/actions';import{Calendar,momentLocalizer}from'react-big-calendar';import'react-big-calendar/lib/css/react-big-calendar.css';import moment from'moment';import util from'../../util';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var localizer=momentLocalizer(moment);var Agendamentos=function Agendamentos(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.agendamento;}),agendamentos=_useSelector.agendamentos;var formatEventos=function formatEventos(){var listaEventos=agendamentos.map(function(agendamento){return{resource:{agendamento:agendamento},title:\"\".concat(agendamento.servicoId.titulo,\" - \").concat(agendamento.clienteId.nome,\" - \").concat(agendamento.colaboradorId.nome),start:moment(agendamento.data).toDate(),end:moment(agendamento.data).add(util.hourToMinutes(moment(agendamento.servicoId.duracao).format('HH:mm')),'minutes').toDate()};});return listaEventos;};useEffect(function(){dispatch(filterAgendamentos({start:moment().weekday(0).format('YYYY-MM-DD'),end:moment().weekday(6).format('YYYY-MM-DD')}));},[]);var formatRange=function formatRange(range){var finalRange={};if(Array.isArray(range)){finalRange={start:moment(range[0]).format('YYYY-MM-DD'),end:moment(range[range.length-1]).format('YYYY-MM-DD')};}else{finalRange={start:moment(range.start).format('YYYY-MM-DD'),end:moment(range.end).format('YYYY-MM-DD')};}return finalRange;};return/*#__PURE__*/_jsx(\"div\",{className:\"col p-5 overflow-auto h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4 mt-0\",children:\"Agendamentos\"}),/*#__PURE__*/_jsx(Calendar,{localizer:localizer,onRangeChange:function onRangeChange(range){return dispatch(filterAgendamentos(formatRange(range)));},onSelectEvent:function onSelectEvent(){},events:formatEventos(),defaultView:\"week\",selectable:true,popup:true,style:{height:600}})]})})});};export default Agendamentos;","map":{"version":3,"sources":["/home/arielpellegrino/Documentos/BBBBBBBB/SevenBarbearia/C/web/src/pages/Agendamentos/index.js"],"names":["useEffect","useDispatch","useSelector","filterAgendamentos","Calendar","momentLocalizer","moment","util","localizer","Agendamentos","dispatch","state","agendamento","agendamentos","formatEventos","listaEventos","map","resource","title","servicoId","titulo","clienteId","nome","colaboradorId","start","data","toDate","end","add","hourToMinutes","duracao","format","weekday","formatRange","range","finalRange","Array","isArray","length","height"],"mappings":"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","sourcesContent":["import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { filterAgendamentos } from '../../store/modules/agendamento/actions';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport moment from 'moment';\nimport util from '../../util';\n\nconst localizer = momentLocalizer(moment);\n\nconst Agendamentos = () => {\n  const dispatch = useDispatch();\n  const { agendamentos } = useSelector((state) => state.agendamento);\n\n  const formatEventos = () => {\n    const listaEventos = agendamentos.map((agendamento) => ({\n      resource: { agendamento },\n      title: `${agendamento.servicoId.titulo} - ${agendamento.clienteId.nome} - ${agendamento.colaboradorId.nome}`,\n      start: moment(agendamento.data).toDate(),\n      end: moment(agendamento.data)\n        .add(\n          util.hourToMinutes(\n            moment(agendamento.servicoId.duracao).format('HH:mm')\n          ),\n          'minutes'\n        )\n        .toDate(),\n    }));\n    return listaEventos;\n  };\n\n  useEffect(() => {\n    dispatch(\n      filterAgendamentos({\n        start: moment().weekday(0).format('YYYY-MM-DD'),\n        end: moment().weekday(6).format('YYYY-MM-DD'),\n      })\n    );\n  }, []);\n\n  const formatRange = (range) => {\n    let finalRange = {};\n    if (Array.isArray(range)) {\n      finalRange = {\n        start: moment(range[0]).format('YYYY-MM-DD'),\n        end: moment(range[range.length - 1]).format('YYYY-MM-DD'),\n      };\n    } else {\n      finalRange = {\n        start: moment(range.start).format('YYYY-MM-DD'),\n        end: moment(range.end).format('YYYY-MM-DD'),\n      };\n    }\n\n    return finalRange;\n  };\n\n  return (\n    <div className=\"col p-5 overflow-auto h-100\">\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <h2 className=\"mb-4 mt-0\">Agendamentos</h2>\n          <Calendar\n            localizer={localizer}\n            onRangeChange={(range) =>\n              dispatch(filterAgendamentos(formatRange(range)))\n            }\n            onSelectEvent={() => {}}\n            events={formatEventos()}\n            defaultView=\"week\"\n            selectable={true}\n            popup={true}\n            style={{ height: 600 }}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Agendamentos;\n"]},"metadata":{},"sourceType":"module"}