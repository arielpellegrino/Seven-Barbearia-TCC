{"ast":null,"code":"import _regeneratorRuntime from\"/home/arielpellegrino/Documentos/BBBBBBBB/SevenBarbearia/C/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(filterAgenramentos);import{takeLatest,all,call,put,select}from'redux-saga/effects';import{updateAgendamento}from'./actions';import types from'./types';import api from'../../../services/api';import{notification}from'../../../services/rsuite';import consts from'../../../consts';export function filterAgenramentos(_ref){var range,_yield$call,res;return _regeneratorRuntime.wrap(function filterAgenramentos$(_context){while(1){switch(_context.prev=_context.next){case 0:range=_ref.range;_context.prev=1;_context.next=4;return call(api.post,'/agendamento/filter',{salaoId:consts.salaoId,range:range});case 4:_yield$call=_context.sent;res=_yield$call.data;if(!res.error){_context.next=9;break;}// ALERT DO RSUITE\nnotification('error',{placement:'topStart',title:'Ops...',description:res.message});return _context.abrupt(\"return\",false);case 9:_context.next=11;return put(updateAgendamento({agendamentos:res.agendamentos}));case 11:_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);// COLOCAR AQUI O ALERT DO RSUITE\nnotification('error',{placement:'topStart',title:'Ops...',description:_context.t0.message});case 16:case\"end\":return _context.stop();}}},_marked,null,[[1,13]]);}export default all([takeLatest(types.FILTER_AGENDAMENTOS,filterAgenramentos)]);","map":{"version":3,"sources":["/home/arielpellegrino/Documentos/BBBBBBBB/SevenBarbearia/C/web/src/store/modules/agendamento/sagas.js"],"names":["filterAgenramentos","takeLatest","all","call","put","select","updateAgendamento","types","api","notification","consts","range","post","salaoId","res","data","error","placement","title","description","message","agendamentos","FILTER_AGENDAMENTOS"],"mappings":"8NAOiBA,kB,EAPjB,OAASC,UAAT,CAAqBC,GAArB,CAA0BC,IAA1B,CAAgCC,GAAhC,CAAqCC,MAArC,KAAmD,oBAAnD,CACA,OAASC,iBAAT,KAAkC,WAAlC,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,uBAAhB,CACA,OAASC,YAAT,KAA6B,0BAA7B,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CAEA,MAAO,SAAUV,CAAAA,kBAAV,4JAA+BW,KAA/B,MAA+BA,KAA/B,iCAEmB,MAAMR,CAAAA,IAAI,CAACK,GAAG,CAACI,IAAL,CAAW,qBAAX,CAAkC,CAChEC,OAAO,CAAEH,MAAM,CAACG,OADgD,CAEhEF,KAAK,CAALA,KAFgE,CAAlC,CAAV,CAFnB,iCAEWG,GAFX,aAEKC,IAFL,KAOCD,GAAG,CAACE,KAPL,yBAQD;AACAP,YAAY,CAAC,OAAD,CAAU,CACpBQ,SAAS,CAAE,UADS,CAEpBC,KAAK,CAAE,QAFa,CAGpBC,WAAW,CAAEL,GAAG,CAACM,OAHG,CAAV,CAAZ,CATC,gCAcM,KAdN,0BAiBH,MAAMhB,CAAAA,GAAG,CAACE,iBAAiB,CAAC,CAAEe,YAAY,CAAEP,GAAG,CAACO,YAApB,CAAD,CAAlB,CAAT,CAjBG,yFAoBH;AACAZ,YAAY,CAAC,OAAD,CAAU,CACpBQ,SAAS,CAAE,UADS,CAEpBC,KAAK,CAAE,QAFa,CAGpBC,WAAW,CAAE,YAAIC,OAHG,CAAV,CAAZ,CArBG,qEA6BP,cAAelB,CAAAA,GAAG,CAAC,CAACD,UAAU,CAACM,KAAK,CAACe,mBAAP,CAA4BtB,kBAA5B,CAAX,CAAD,CAAlB","sourcesContent":["import { takeLatest, all, call, put, select } from 'redux-saga/effects';\nimport { updateAgendamento } from './actions';\nimport types from './types';\nimport api from '../../../services/api';\nimport { notification } from '../../../services/rsuite';\nimport consts from '../../../consts';\n\nexport function* filterAgenramentos({ range }) {\n  try {\n    const { data: res } = yield call(api.post, '/agendamento/filter', {\n      salaoId: consts.salaoId,\n      range,\n    });\n\n    if (res.error) {\n      // ALERT DO RSUITE\n      notification('error', {\n        placement: 'topStart',\n        title: 'Ops...',\n        description: res.message,\n      });\n      return false;\n    }\n\n    yield put(updateAgendamento({ agendamentos: res.agendamentos }));\n    // COLOCAR OS CLIENTES NO REDUCER\n  } catch (err) {\n    // COLOCAR AQUI O ALERT DO RSUITE\n    notification('error', {\n      placement: 'topStart',\n      title: 'Ops...',\n      description: err.message,\n    });\n  }\n}\n\nexport default all([takeLatest(types.FILTER_AGENDAMENTOS, filterAgenramentos)]);\n"]},"metadata":{},"sourceType":"module"}